updateService=function(){var s=localStorage.getItem("serviceTransacts"),e=localStorage.getItem("service");token=localStorage.getItem("accessToken");var n=localStorage.getItem("settings");if(e&&token){token=JSON.parse(token);var t=token[3];e=JSON.parse(e),rowLength=e.length;var p=[];if(s){s=JSON.parse(s);var r=s.length;for(row=0;row<r;row++)p.push(s[row][3]);p=removeDuplicate(p);var i=(s[0].length,[]);p.sort(function(s,e){return s=s.split("SV")[0],e=e.split("SV")[0],s-e});for(var a in p)s:for(row=0;row<r;row++)if(p[a]==s[row][3]){for(i[a]="<caption><b>Payment Date: "+s[row][0]+"</b></caption><tr><th>Service No</th><th>Amount</th><th>Payment ID</th><th>Service Type</th></tr>",inner=0;inner<r;inner++)p[a]==s[inner][3]&&(i[a]=i[a]+"<tr><td>"+s[inner][3]+"</td><td>"+s[inner][4]+"</td><td>"+s[inner][5]+"</td><td>"+s[inner][6]+"</td></tr>");i[a]="<div class='mycap'><table style='width:100%'>"+i[a]+"</table></div>";break s}}var o=document.getElementsByClassName("scroll"),b="",l="",c="if(localStorage.getItem('emailStatus')=='unconfirmed'&&token[4]=='local'){$('#section1').css('color', '#fff');$('#section1').html('You have to verify your email first before you perform this task');$('#section1').slideDown(200,function(){$('#section1').fadeOut(12000);});return false;}";if("local"==token[4]&&n)for(n=JSON.parse(n),row=0;row<rowLength;row++){if("unpaid"==e[row][4]||"deposit"==e[row][4])var w='<li><i class="fa fa-arrow-right"></i>Payment Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][4]+"</p><div class=\"block block-login-requirement\" style='margin-bottom:25px'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+getServButton(e[row][9])+'<!--<button type="button" class="button" onclick="'+c+"$('#service1111').slideDown(700,function(){$('#service1111').fadeOut(15000);});\">Complete Payment</button>--></div>";else w='<li><i class="fa fa-arrow-right"></i>Payment Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][4]+"<b><a style='color:000;position:absolute;margin-top:-1px;font-size:12px;left:80px'><i id='idserv"+e[row][1]+'\' class="fa fa-exclamation-circle"></i></a></b></p>';"in progress"==e[row][7]?b="<div class='conttt' style='padding:10px;' id='ids"+e[row][1]+"'><div style='text-align:center'><b>Your     "+getGetOrdinal(row+1)+"      service</b><b><a class='deleServ' title='Cancel this service' style='text-decoration:none;float:right;color:#fb6603;margin-top:-6px;font-size:20px' onclick=\""+c+"document.getElementById('service111').serviceId.value='"+e[row][1]+"';document.getElementById('service111').userId.value='"+t+"';document.getElementById('service111').startDate.value='"+e[row][0]+"';document.getElementById('service111').containerId.value='ids"+e[row][1]+"';document.getElementById('itemStatus').itemStatus.value='"+e[row][7]+"';$('#service111').slideDown(700)\"><i class='fa fa-trash-o'></i></a></b></div><ul><li><i class=\"fa fa-arrow-right\"></i>Service Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+new Date(e[row][0]).toString().split("GMT")[0]+'</p><li><i class="fa fa-arrow-right"></i>Service Id</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][1]+'</p><li><i class="fa fa-arrow-right"></i>Type of Application</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][2]+'</p><li><i class="fa fa-arrow-right"></i>Ready Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][3]+"</p>"+w+"<li><i class=\"fa fa-arrow-right\"></i>Requirement</li><li style='font-size:12px;float:right;margin-top:-20px' title='Edit Requirement'><a onclick=\""+c+"document.getElementById('textarea1').value='"+e[row][5]+"';localStorage.setItem('serviceId','"+e[row][1]+"');$('#service11').slideDown(700)\"><i class='fa fa-pencil'></i></a></li><p id='ps"+e[row][1]+"'style='margin-left:30px;line-height:20px'>"+e[row][5]+'</p><br><br><!--<div class="block block-login-requirement">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button type="button" class="button" onclick="'+c+"document.getElementById('textarea1').value='"+e[row][5]+"';localStorage.setItem('serviceId','"+e[row][1]+"');$('#service11').slideDown(700)\">Edit Requirement</button></div>--><li style='margin-top:-20px'><i class=\"fa fa-arrow-right\"></i>Contact Type</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+e[row][6]+'</p><li><i class="fa fa-arrow-right"></i>Service Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][7]+"</p></ul><b><a class='message' style='color:000;float:right;margin-top:-20px;font-size:15px'><i class=\"fa fa-exclamation-circle\"></i></a></b>":("paid"==e[row][4]?"ON"==e[row][7]?serviceState="<b><a id='ss"+e[row][1]+"' class='swimessage' style='color:000;float:right;margin-top:-20px;font-size:15px' onclick=\""+c+"formE=document.getElementById('state');formE.username.value='"+token[1]+"';formE.serviceId.value='"+e[row][1]+"';if(new RegExp('ON').test($('#change"+e[row][1]+"').html())){formE.serviceState.value='OFF';$('#ss"+e[row][1]+"').css('color','red');$('#ss"+e[row][1]+"').attr('class','swmessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OFF');$('.swmessage').balloon({html: true,contents: 'Switch on this service.'});} else {formE.serviceState.value='ON';$('#ss"+e[row][1]+"').css('color','#000');$('#ss"+e[row][1]+"').attr('class','swimessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON');$('.swimessage').balloon({html: true,contents: 'Switch off this service.'});}$('#state').submit();\"><i class=\"fa fa-power-off\"></i></a></b>":serviceState="<b><a id='ss"+e[row][1]+"' class='swmessage' style='color:red;float:right;margin-top:-20px;font-size:15px' onclick=\""+c+"formE=document.getElementById('state');formE.username.value='"+token[1]+"';formE.serviceId.value='"+e[row][1]+"';if(new RegExp('OFF').test($('#change"+e[row][1]+"').html())||('"+e[row][7]+"'=='finished'||'"+e[row][7]+"'=='ON')){formE.serviceState.value='ON';$('#ss"+e[row][1]+"').css('color','#000');$('#ss"+e[row][1]+"').attr('class','swimessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON');$('.swimessage').balloon({html: true,contents: 'Switch off this service.'});} else {formE.serviceState.value='OFF';$('#ss"+e[row][1]+"').css('color','red');$('#ss"+e[row][1]+"').attr('class','swmessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OFF');$('.swmessage').balloon({html: true,contents: 'Switch on this service.'});}$('#state').submit();\"><i class=\"fa fa-power-off\"></i></a></b>":serviceState="<b><a class='message' style='color:000;float:right;margin-top:-20px;font-size:15px'><i class=\"fa fa-exclamation-circle\"></i></a></b>",b="<div class='conttt' style='padding:10px;' id='ids"+e[row][1]+"'><div style='text-align:center'><b>Your     "+getGetOrdinal(row+1)+"      service</b><b><a class='deleServ' title='Recycle' style='text-decoration:none;float:right;color:#fb6603;margin-top:-6px;font-size:20px' onclick=\""+c+"document.getElementById('service111').serviceId.value='"+e[row][1]+"';document.getElementById('service111').userId.value='"+t+"';document.getElementById('service111').startDate.value='"+e[row][0]+"';document.getElementById('service111').containerId.value='ids"+e[row][1]+"';document.getElementById('itemStatus').itemStatus.value='"+e[row][7]+"';$('#service111').slideDown(700)\"><i class='fa fa-trash-o'></i></a></b></div><ul><li><i class=\"fa fa-arrow-right\"></i>Service Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+new Date(e[row][0]).toString().split("GMT")[0]+'</p><li><i class="fa fa-arrow-right"></i>Service Id</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][1]+'</p><li><i class="fa fa-arrow-right"></i>Type of Application</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][2]+'</p><li><i class="fa fa-arrow-right"></i>Ready Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][3]+"</p>"+w+'<li><i class="fa fa-arrow-right"></i>Requirement</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][5]+'</p><li><i class="fa fa-arrow-right"></i>Contact Type</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][6]+'</p><li><i class="fa fa-arrow-right"></i>Service Status</li><p id=\'change'+e[row][1]+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+e[row][7]+"</p></ul>"+serviceState),n[0]&&"Web Application"==e[row][2]&&(l=row!=rowLength-1?l+b+"<hr></div><br><br><br>":l+b+"</div>"),n[1]&&"Database"==e[row][2]&&(l=row!=rowLength-1?l+b+"<hr></div><br><br><br>":l+b+"</div>"),n[2]&&"Application Package"==e[row][2]&&(l=row!=rowLength-1?l+b+"<hr></div><br><br><br>":l+b+"</div>")}else for(row=0;row<rowLength;row++){if("unpaid"==e[row][4]||"deposit"==e[row][4])var w='<li><i class="fa fa-arrow-right"></i>Payment Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][4]+"</p><div class=\"block block-login-requirement\" style='margin-bottom:25px'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+getServButton(e[row][9])+'<!--<button type="button" class="button" onclick="'+c+"$('#service1111').slideDown(700,function(){$('#service1111').fadeOut(15000);});\">Complete Payment</button>--></div>";else w='<li><i class="fa fa-arrow-right"></i>Payment Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][4]+"<b><a style='color:000;position:absolute;margin-top:-1px;font-size:12px;left:80px'><i id='idserv"+e[row][1]+'\' class="fa fa-exclamation-circle"></i></a></b></p>';"in progress"==e[row][7]?b="<div class='conttt' style='padding:10px;' id='ids"+e[row][1]+"'><div style='text-align:center'><b>Your     "+getGetOrdinal(row+1)+"      service</b><b><a class='deleServ' title='Cancel this service' style='text-decoration:none;float:right;color:#fb6603;margin-top:-6px;font-size:20px' onclick=\""+c+"document.getElementById('service111').serviceId.value='"+e[row][1]+"';document.getElementById('service111').userId.value='"+t+"';document.getElementById('service111').startDate.value='"+e[row][0]+"';document.getElementById('service111').containerId.value='ids"+e[row][1]+"';document.getElementById('itemStatus').itemStatus.value='"+e[row][7]+"';$('#service111').slideDown(700)\"><i class='fa fa-trash-o'></i></a></b></div><ul><li><i class=\"fa fa-arrow-right\"></i>Service Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+new Date(e[row][0]).toString().split("GMT")[0]+'</p><li><i class="fa fa-arrow-right"></i>Service Id</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][1]+'</p><li><i class="fa fa-arrow-right"></i>Type of Application</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][2]+'</p><li><i class="fa fa-arrow-right"></i>Ready Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][3]+"</p>"+w+"<li><i class=\"fa fa-arrow-right\"></i>Requirement</li><li style='font-size:12px;float:right;margin-top:-20px' title='Edit Requirement'><a onclick=\""+c+"document.getElementById('textarea1').value='"+e[row][5]+"';localStorage.setItem('serviceId','"+e[row][1]+"');$('#service11').slideDown(700)\"><i class='fa fa-pencil'></i></a></li><p id='ps"+e[row][1]+"'style='margin-left:30px;line-height:20px'>"+e[row][5]+'</p><br><br><!--<div class="block block-login-requirement">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button type="button" class="button" onclick="'+c+"document.getElementById('textarea1').value='"+e[row][5]+"';localStorage.setItem('serviceId','"+e[row][1]+"');$('#service11').slideDown(700)\">Edit Requirement</button></div>--><li style='margin-top:-20px'><i class=\"fa fa-arrow-right\"></i>Contact Type</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+e[row][6]+'</p><li><i class="fa fa-arrow-right"></i>Service Status</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][7]+"</p></ul><b><a class='message' style='color:000;float:right;margin-top:-20px;font-size:15px'><i class=\"fa fa-exclamation-circle\"></i></a></b>":("paid"==e[row][4]?"ON"==e[row][7]?serviceState="<b><a id='ss"+e[row][1]+"' class='swimessage' style='color:000;float:right;margin-top:-20px;font-size:15px' onclick=\""+c+"formE=document.getElementById('state');formE.username.value='"+token[1]+"';formE.serviceId.value='"+e[row][1]+"';if(new RegExp('ON').test($('#change"+e[row][1]+"').html())){formE.serviceState.value='OFF';$('#ss"+e[row][1]+"').css('color','red');$('#ss"+e[row][1]+"').attr('class','swmessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OFF');$('.swmessage').balloon({html: true,contents: 'Switch on this service.'});} else {formE.serviceState.value='ON';$('#ss"+e[row][1]+"').css('color','#000');$('#ss"+e[row][1]+"').attr('class','swimessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON');$('.swimessage').balloon({html: true,contents: 'Switch off this service.'});}$('#state').submit();\"><i class=\"fa fa-power-off\"></i></a></b>":serviceState="<b><a id='ss"+e[row][1]+"' class='swmessage' style='color:red;float:right;margin-top:-20px;font-size:15px' onclick=\""+c+"formE=document.getElementById('state');formE.username.value='"+token[1]+"';formE.serviceId.value='"+e[row][1]+"';if(new RegExp('OFF').test($('#change"+e[row][1]+"').html())||('"+e[row][7]+"'=='finished'||'"+e[row][7]+"'=='ON')){formE.serviceState.value='ON';$('#ss"+e[row][1]+"').css('color','#000');$('#ss"+e[row][1]+"').attr('class','swimessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON');$('.swimessage').balloon({html: true,contents: 'Switch off this service.'});} else {formE.serviceState.value='OFF';$('#ss"+e[row][1]+"').css('color','red');$('#ss"+e[row][1]+"').attr('class','swmessage');$('#change"+e[row][1]+"').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OFF');$('.swmessage').balloon({html: true,contents: 'Switch on this service.'});}$('#state').submit();\"><i class=\"fa fa-power-off\"></i></a></b>":serviceState="<b><a class='message' style='color:000;float:right;margin-top:-20px;font-size:15px'><i class=\"fa fa-exclamation-circle\"></i></a></b>",b="<div class='conttt' style='padding:10px;' id='ids"+e[row][1]+"'><div style='text-align:center'><b>Your     "+getGetOrdinal(row+1)+"      service</b><b><a class='deleServ' title='Recycle' style='text-decoration:none;float:right;color:#fb6603;margin-top:-6px;font-size:20px' onclick=\""+c+"document.getElementById('service111').serviceId.value='"+e[row][1]+"';document.getElementById('service111').userId.value='"+t+"';document.getElementById('service111').startDate.value='"+e[row][0]+"';document.getElementById('service111').containerId.value='ids"+e[row][1]+"';document.getElementById('itemStatus').itemStatus.value='"+e[row][7]+"';$('#service111').slideDown(700)\"><i class='fa fa-trash-o'></i></a></b></div><ul><li><i class=\"fa fa-arrow-right\"></i>Service Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+new Date(e[row][0]).toString().split("GMT")[0]+'</p><li><i class="fa fa-arrow-right"></i>Service Id</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][1]+'</p><li><i class="fa fa-arrow-right"></i>Type of Application</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][2]+'</p><li><i class="fa fa-arrow-right"></i>Ready Date</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][3]+"</p>"+w+'<li><i class="fa fa-arrow-right"></i>Requirement</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][5]+'</p><li><i class="fa fa-arrow-right"></i>Contact Type</li><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+e[row][6]+'</p><li><i class="fa fa-arrow-right"></i>Service Status</li><p id=\'change'+e[row][1]+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+e[row][7]+"</p></ul>"+serviceState),l=row!=rowLength-1?l+b+"<hr></div><br><br><br>":l+b+"</div>"}o[0].innerHTML=l,$(function(){for(a=0;a<p.length;a++)$("#idserv"+p[a]).balloon({html:!0,contents:i[a],css:{border:"solid 1px #000",color:"#000",fontSize:".7rem"}})}),$(".message")&&$(".message").balloon({html:!0,contents:"We are creating the service. This<br> area will be marked 'ON' when<br> we are done.",css:{border:"solid 1px #000",color:"#000",fontSize:".7rem"}}),$(".swimessage")&&$(".swimessage").balloon({html:!0,contents:"Switch off this service.",css:{border:"solid 1px #000",color:"#000",fontSize:".7rem"}}),$(".swmessage")&&$(".swmessage").balloon({html:!0,contents:"Switch on this service.",css:{border:"solid 1px #000",color:"#000",fontSize:".7rem"}})}};